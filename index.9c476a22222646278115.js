(self.webpackChunklearn_pixi=self.webpackChunklearn_pixi||[]).push([[826],{533:()=>{"use strict";const t=PIXI;function n(t,n){t.x+=t.moveProps.v.x*n,t.y+=t.moveProps.v.y*n,t.rotation+=t.moveProps.r*n,t.moveProps.v.x+=t.moveProps.va.x*n,t.moveProps.v.y+=t.moveProps.va.y*n,t.moveProps.r+=t.moveProps.ra*n}var e,o=(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),r=new t.Container,i=function(t){function n(n,e,o){var r=t.call(this,n)||this;return r.enemies=[],r.moveProps=e,r.enemies=o,r}return o(n,t),n}(t.Sprite),s=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),c=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.health=100,n}return s(n,t),n.prototype.onHit=function(){this.health-=1,console.log("boss剩余血量: "+this.health),0===this.health?a.removeChild(this):this.tint=11184810},n.prototype.turn=function(){(this.x<200||this.x>800)&&(this.moveProps.v.x*=-1)},n}(t.Sprite),a=new t.Container;var u=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),p=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.shotCount=0,n.shotSpeed=10,n}return u(n,t),n}(t.Sprite);function h(e){(function(e){var o=t.Texture.from("bunny"),s=new p(o);s.anchor.set(.5),s.scale.set(2),s.x=.5*e.screen.width,s.y=e.screen.height-100;var c={r:0,ra:0,v:{x:0,y:0},va:{x:0,y:0}};s.moveProps=c,e.stage.addChild(s),e.ticker.add((function(o){var u,p,h,l,y=e.renderer.plugins.interaction.mouse.global;if(e.screen.width>y.x||y.x>0||e.screen.height>y.y||y.y>0){var f=(p=s,h=(u=y).x-p.x,l=u.y-p.y,Math.hypot(h,l)),v=Math.atan2(y.y-s.y,y.x-s.x);c.v.x=Math.cos(v)*f*.1,c.v.y=Math.sin(v)*f*.1}n(s,o),function(t,n){t.x<0?(t.x=0,t.moveProps.v.x=0):t.x>n.screen.width&&(t.x=n.screen.width,t.moveProps.v.x=0),t.y<0?(t.y=0,t.moveProps.v.y=0):t.y>n.screen.height&&(t.y=n.screen.height,t.moveProps.v.y=0)}(s,e),function(n,e){if(n.shotCount+=e,!(n.shotCount<n.shotSpeed)){n.shotCount-=n.shotSpeed;var o=new i(t.Texture.from("bunny"),{r:0,ra:0,v:{x:0,y:-10},va:{x:0,y:0}},a.children);o.anchor.set(.5),o.scale.set(.5),o.x=n.x,o.y=n.y-37,function(t){r.addChild(t)}(o)}}(s,o)}))})(e),function(e){!function(e){var o=t.Texture.from("skully"),r=new c(o);r.anchor.set(.5),r.scale.set(2),r.x=.5*e.screen.width,r.y=200,r.moveProps={r:0,ra:0,v:{x:5,y:0},va:{x:0,y:0}},a.addChild(r),e.ticker.add((function(t){n(r,t),r.tint=16777215,r.turn()}))}(e),e.stage.addChild(a)}(e),function(t){t.stage.addChild(r),t.ticker.add((function(e){r.children.forEach((function(t){n(t,e)}));var o=r.children.filter((function(n){return function(t,n){return t.x<0||t.x>n.screen.width||t.y<0||t.y>n.screen.height}(n,t)}));r.children.forEach((function(t){for(var n=0,e=t.enemies;n<e.length;n++){var r=e[n];if(i=r,void 0,void 0,s=t.getBounds(),c=i.getBounds(),s.x<c.x+c.width&&s.x+s.width>c.x&&s.y<c.y+c.height&&s.y+s.height>c.y)return r.onHit(),void o.push(t)}var i,s,c})),o.length&&r.removeChild.apply(r,o)}))}(e),e.start()}!function(){t.settings.SCALE_MODE=t.SCALE_MODES.NEAREST;var n=new t.Application({width:1e3,height:1e3,backgroundColor:0,resolution:1});document.body.appendChild(n.view),n.loader.add("skully","https://pixijs.io/examples/examples/assets/skully.png").add("bunny","https://pixijs.io/examples/examples/assets/bunny.png").load((function(){return h(n)}))}()}},t=>{"use strict";t(t.s=533)}]);